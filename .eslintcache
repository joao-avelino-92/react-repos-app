[{"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\App.js":"1","C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\reportWebVitals.js":"2","C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Main\\index.js":"3","C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Repositorio\\index.js":"4","C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\routes.js":"5","C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Main\\styles.js":"6","C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\services\\api.js":"7","C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Repositorio\\styles.js":"8","C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Repositorio\\Hooks.js":"9"},{"size":237,"mtime":1609334762951,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":1609154492702,"results":"12","hashOfConfig":"11"},{"size":3057,"mtime":1609349477258,"results":"13","hashOfConfig":"11"},{"size":1950,"mtime":1609418628747,"results":"14","hashOfConfig":"11"},{"size":444,"mtime":1609333698360,"results":"15","hashOfConfig":"11"},{"size":1898,"mtime":1609348491543,"results":"16","hashOfConfig":"11"},{"size":120,"mtime":1609337035192,"results":"17","hashOfConfig":"11"},{"size":2497,"mtime":1609418047079,"results":"18","hashOfConfig":"11"},{"size":2114,"mtime":1609418610000,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ikyiug",{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\App.js",[],"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\reportWebVitals.js",[],"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Main\\index.js",[],"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Repositorio\\index.js",[],"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\routes.js",[],"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Main\\styles.js",[],"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\services\\api.js",[],"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Repositorio\\styles.js",[],"C:\\Users\\Usuario\\Documents\\Sistemas\\react-course\\repos-app\\src\\pages\\Repositorio\\Hooks.js",["39"],"import { useState, useEffect } from \"react\";\r\n// import { Container, Owner, Loading, BackButton, IssuesList, PageActions } from \"./styles\";\r\n// import { FaArrowLeft } from \"react-icons/fa\";\r\nimport api from \"../../services/api\";\r\nexport const useRepositorio =(match)=>{\r\n\r\n  const [repositorio, setRepositorio] = useState({});\r\n  const [issues, setIssues] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n  const [filters, setFilters] = useState([\r\n    {state: 'all', label: 'todas', active: true},\r\n    {state: 'open', label: 'abertas', active: false},\r\n    {state: 'closed', label: 'fechadas', active: false},\r\n  ]);\r\n  const [filterIndex, setFilterIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    async function load() {\r\n      const nomeRepo = decodeURIComponent(match.params.repositorio);\r\n\r\n      const [repositorioData, issuesData] = await Promise.all([\r\n        api.get(`/repos/${nomeRepo}`),\r\n        api.get(`/repos/${nomeRepo}/issues`, {\r\n          params: {\r\n            state: filters.find(f => f.active).state,\r\n            per_page: 5,\r\n          },\r\n        }),\r\n      ]);\r\n\r\n      setRepositorio(repositorioData.data);\r\n      setIssues(issuesData.data);\r\n      // console.log(issuesData.data);\r\n\r\n      setLoading(false);\r\n    }\r\n\r\n    load();\r\n  }, [match.params.repositorio, filters]);\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    async function loadIssue(){\r\n      const nomeRepo = decodeURIComponent(match.params.repositorio);\r\n\r\n      const response = await api.get(`/repos/${nomeRepo}/issues`, {\r\n        params:{\r\n          state: filters[filterIndex].state,  \r\n          page, \r\n          per_page: 5,\r\n        }\r\n      });\r\n      setIssues(response.data);\r\n      console.log(filterIndex);\r\n    }\r\n\r\n    loadIssue();\r\n\r\n  }, [match.params.repositorio, page, filterIndex, filters]);\r\n\r\n  function handlePage(action){\r\n    setPage(action === 'back' ? page - 1 : page + 1);\r\n  }\r\n\r\n  function handleFilter(index){\r\n    setFilterIndex(index);\r\n  }\r\n\r\n  return {repositorio,issues,handlePage,loading, page, filters, filterIndex, handleFilter}\r\n}\r\n\r\n",{"ruleId":"40","severity":1,"message":"41","line":11,"column":19,"nodeType":"42","messageId":"43","endLine":11,"endColumn":29},"no-unused-vars","'setFilters' is assigned a value but never used.","Identifier","unusedVar"]